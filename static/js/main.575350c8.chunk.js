(this.webpackJsonpfiltr_and_pagination=this.webpackJsonpfiltr_and_pagination||[]).push([[0],{22:function(e,t,r){},29:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),c=r(12),i=r.n(c),s=(r(22),r(6)),o="GET_IMAGES",u="GET_IMAGES_FILTER",l="SET_CURRENT_FILTER",b="SET_IMAGES_DATA",j="SET_CURRENT_PAGE",m=function(){return{type:o}},p=function(e){return{type:b,payload:e}},f=r(3),d=function(e){var t=e.item,r=e.currentFilter,n=Object(s.b)();return Object(f.jsxs)("button",{onClick:function(){n({type:u,payload:t})},className:t===r?"filter__item filter__active":"filter__item",children:["Album ",t]})},h=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.images.currentFilter}));return Object(f.jsxs)("div",{className:"filter",children:[[1,2,3,4,5].map((function(e){return Object(f.jsx)(d,{item:e,currentFilter:t},e)})),Object(f.jsx)("button",{className:"filter__item",disabled:!t,onClick:function(){e(m())},children:"Clear"})]})};var O=function(e){var t=e.number,r=e.currentPage,n=e.handleSelectPage;return Object(f.jsx)("button",{className:t===r?"pagination__item pagination__active":"pagination__item",onClick:function(){return n(t)},children:t})},_=function(){var e=Object(s.c)((function(e){return{totalNumberPages:e.images.totalNumberPages,currentPage:e.images.currentPage}})),t=e.totalNumberPages,r=e.currentPage,n=Object(s.b)(),a=[],c=function(e){n(function(e){return{type:j,payload:e}}(e))};return function(e,t,r){if(t>10)if(r>5)for(var n=r-4;n<=r+5&&(e.push(n),n!==t);n++);else for(var a=1;a<=10&&(e.push(a),a!==t);a++);else for(var c=1;c<=t;c++)e.push(c)}(a,t,r),Object(f.jsxs)("div",{className:"pagination",children:[Object(f.jsx)("button",{className:"pagination__item-text",onClick:function(){return c(1)},children:"start"}),a.map((function(e){return Object(f.jsx)(O,{number:e,currentPage:r,handleSelectPage:c},e)})),Object(f.jsx)("button",{className:"pagination__item-text",onClick:function(){return c(t)},children:"finish"})]})},g=function(e){var t=e.src,r=e.title;return Object(f.jsxs)("div",{className:"photo__item",children:[Object(f.jsx)("div",{className:"photo__item__img",children:Object(f.jsx)("img",{src:t,alt:r})}),Object(f.jsxs)("div",{className:"photo__item__desc",children:[Object(f.jsx)("h4",{className:"photo__item__desc-title",children:r}),Object(f.jsx)("h5",{className:"photo__item__desc-link",children:t})]})]})},x=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.images.displayImages}));return Object(n.useEffect)((function(){e(m())}),[e]),Object(f.jsx)("div",{className:"photo",children:t.map((function(e){return Object(f.jsx)(g,{src:e.thumbnailUrl,title:e.title},e.id)}))})};var v=function(){var e=Object(s.c)((function(e){return e.images.currentFilter}));return Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)(h,{}),Object(f.jsxs)("h1",{className:"title",children:[" ",e?"Images album ".concat(e):"All images"]}),Object(f.jsx)(x,{}),Object(f.jsx)(_,{})]})},y=r(10),N=r(17),E=r(11),k={images:[],displayImages:[],totalNumberPages:10,currentPage:1,currentFilter:null},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var r=Math.ceil(t.payload.length/10);return Object(E.a)(Object(E.a)({},e),{},{images:t.payload,displayImages:t.payload.slice(0,10),totalNumberPages:r,currentPage:1,currentFilter:null});case j:var n=10*t.payload,a=n-10;return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.payload,displayImages:e.images.slice(a,n)});case l:return Object(E.a)(Object(E.a)({},e),{},{currentFilter:t.payload});default:return e}},w=r(9),I=r.n(w),S=r(8),T=function(){return fetch("https://jsonplaceholder.typicode.com/photos").then((function(e){return e.json()})).then((function(e){return{result:e}})).catch((function(e){return{error:e}}))},F=function(e){return fetch("https://jsonplaceholder.typicode.com/albums/".concat(e,"/photos")).then((function(e){return e.json()})).then((function(e){return{result:e}})).catch((function(e){return{error:e}}))},C=I.a.mark(R),A=I.a.mark(G);function R(){var e,t,r;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(S.a)(T);case 3:if(e=n.sent,t=e.result,!(r=e.error)){n.next=8;break}throw new Error(r);case 8:if(!t){n.next=11;break}return n.next=11,Object(S.b)(p(t));case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0,"error in saga 'getImagesSaga");case 16:case"end":return n.stop()}}),C,null,[[0,13]])}function G(e){var t,r,n,a;return I.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(S.a)(F,t);case 4:if(r=c.sent,n=r.result,!(a=r.error)){c.next=9;break}throw new Error(a);case 9:if(!n){c.next=14;break}return c.next=12,Object(S.b)(p(n));case 12:return c.next=14,Object(S.b)({type:l,payload:t});case 14:c.next=19;break;case 16:c.prev=16,c.t0=c.catch(1),console.log(c.t0,"error in saga 'getImagesFilterSaga");case 19:case"end":return c.stop()}}),A,null,[[1,16]])}var M=I.a.mark(U);function U(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.c)(u,G);case 2:return e.next=4,Object(S.c)(o,R);case 4:case"end":return e.stop()}}),M)}var D=Object(N.a)(),L=Object(y.b)({images:P}),J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.c,X=Object(y.d)(L,J(Object(y.a)(D)));D.run(U);var B=X;i.a.render(Object(f.jsx)(s.a,{store:B,children:Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(v,{})})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.575350c8.chunk.js.map